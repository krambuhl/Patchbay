!function(e,t){if("function"==typeof define&&define.amd)define(["lodash","jquery","struck","exports"],function(n,o,i,s){e.Patchbay=t(e,s,n,o,i)});else if("undefined"!=typeof exports){var n=require("lodash"),o=require("jquery"),i=require("struck");exports=t(e,exports,n,o,i)}else e.Patchbay=t(e,{},e._,e.jQuery,e.Struck)}(this,function(e,t,n,o,i){function s(e,t){return n.isFunction(e)?e.apply(t):e}function r(){return n.find(arguments,function(e){return!n.isUndefined(e)})}return t.Model=function(){var e=i.EventObject.extend();return e.create=function(e,t,o){n.extend(t,{data:e});var i=this.extend(t);return new i(n.extend({},t,o))},e}(),t.View=function(){var e=["el","ui","template","model","data"],u=i.EventObject.extend();return u.prototype.baseConstructor=function(){var t=this;i.EventObject.prototype.baseConstructor.apply(this,arguments),n.extend(this,n.pick(this.options,e)),this.setModel(this.model,this.data),this.setElement(s(this.el)),this.render(this.model),n.defer(function(){t.setUI(s(t.ui)),t.hook("setup","before"),t.setup(t.options),t.hook("setup"),t.hook("setup","after")})},u.prototype.setModel=function(e,n){n=r(n,{}),e?e instanceof t.Model?(this.model=e,this.model.set(n)):"function"==typeof e&&e.create?this.model=e.create(n):"object"==typeof e&&(this.model=t.Model.create(e)):this.model=t.Model.create(n)},u.prototype.setElement=function(e){var t=this;e?(this.$el=o(e).eq(0),this.el=this.$el[0],this.$=function(e){return t.$el.find(e)}):this.setElement(document.createElement("div"))},u.prototype.setUI=function(e){this.ui=n.reduce(e,function(e,t,n){return e[n]=this.$(t),e},{},this)},u.prototype.render=i.hook("render",function(e,t){n.isUndefined(r(this.el,e))||(n.isFunction(e)?this.setElement(e(r(t.data,{}))):n.isString(e)&&this.setElement(n.template(e,r(t.data,{}))))}),u.prototype.state=function(e,t){return n.isUndefined(t)?this.$el.hasClass("is-"+e):void(t?this.$el.addClass("is-"+e):this.$el.removeClass("is-"+e))},u.prototype.setup=n.noop,u.prototype.destroy=function(){i.EventObject.prototype.destroy.apply(this,arguments),this.model.destroy()},u}(),t});
//# sourceMappingURL=patchbay.min.js.map